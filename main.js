(()=>{(()=>{var R={1352:(i,u,r)=>{"use strict";r.r(u),r.d(u,{default:()=>y});var o=r(9431),a=r.n(o),c=r(183),h=r.n(c),P=h()(a());P.push([i.id,`body{background-color:#eee}
`,""]);const y=P},3241:(i,u,r)=>{"use strict";r.r(u),r.d(u,{default:()=>y});var o=r(9431),a=r.n(o),c=r(183),h=r.n(c),P=h()(a());P.push([i.id,`.my-column[data-v-b318a4a6]{min-width:0;flex:1 0 0;margin:8px}
`,""]);const y=P},1213:(i,u,r)=>{"use strict";r.r(u),r.d(u,{default:()=>y});var o=r(9431),a=r.n(o),c=r(183),h=r.n(c),P=h()(a());P.push([i.id,`.my-codemirror{text-align:left}.my-codemirror .CodeMirror{width:100%;height:80vh}
`,""]);const y=P},3094:(i,u,r)=>{"use strict";var o=r(5836),a=r(8541),c=r(6915),h=r(6978),P=r(2683),y=r(3565);const x={__name:"CodeMirror",props:{code:String},emits:["update:code"],setup(e,{emit:s}){const l=e,n=(0,c.iH)();return(0,a.bv)(()=>{const _=h(n.value,{value:l.code,lineNumbers:!0,mode:"javascript"});(0,a.YP)(()=>l.code,d=>{_.getValue()!==d&&_.setValue(d)}),_.on("changes",()=>{const d=_.getValue();d!==l.code&&s("update:code",d)})}),(_,d)=>((0,a.wg)(),(0,a.iD)("div",{ref_key:"domEl",ref:n,class:"my-codemirror"},null,512))}};var L=r(2125);const T=x;var Y=r(4834),k=r(9960),G=r(5549),t=r(7409);function B(e){if(Array.isArray(e))return e[e.length-1]}const A=e=>{if(t.isStringLiteral(e))return e.value;if(t.isIdentifier(e))return e.name;if(t.isNumericLiteral(e))return e.value;if(t.isTemplateLiteral(e)&&e.quasis.length===1)return e.quasis[0].value.cooked};function w(e,s,l=!1){if(t.isObjectExpression(e)){s=String(s);const n=e.properties.find(_=>t.isObjectMember(_)&&A(_.key)===s);if(!n)return t.unaryExpression("void",t.numericLiteral(0));if(t.isObjectMethod(n))return t.functionExpression(n.generator?n.key:null,n.params,n.body,n.generator,n.async);if(t.isObjectProperty(n))return n.shorthand?n.key:n.value}if(t.isArrayExpression(e)){if(s==="length")return e.elements.some(n=>t.isSpreadElement(n))?void 0:t.numericLiteral(e.elements.length);if(s=+s,Number.isInteger(s)&&s>=0){for(let n=0;n<e.elements.length;n++){const _=e.elements[n];if(t.isSpreadElement(_))return;if(n===s)return _}return t.unaryExpression("void",t.numericLiteral(0))}}if(l&&e&&M(e))return t.unaryExpression("void",t.numericLiteral(0))}function J(e){const s=[];if(t.isObjectExpression(e)){for(const l of e.properties){if(t.isSpreadElement(l))return;const n=A(l.key);if(!n)return;s.push(n)}return s}if(t.isArrayExpression(e)){const l=e.elements;for(let n=0;n<l.length;n++){const _=l[n];if(_){if(t.isSpreadElement(_))return;s.push(String(n))}}return s}}function M(e){return!!(!e||t.isUnaryExpression(e)&&e.operator==="void"||t.isNullLiteral(e)||t.isIdentifier(e)&&e.name==="undefined")}const K=e=>{const s=B(e.node.leadingComments);if(s?.value.includes("#__PURE__"))return s.value="",e.remove(),!0},z={visitor:{CallExpression(e){e.parentPath.isVariableDeclarator()&&!e.scope.getBinding(e.parentPath.get("id"))?.referenced&&K(e)||(e=e.parentPath).isExpressionStatement()&&K(e)},TemplateLiteral(e){const s=e.evaluate();s.confident&&e.replaceWith(t.stringLiteral(s.value))},"MemberExpression|OptionalMemberExpression"(e){M(e.node.object)&&e.node.optional&&e.replaceWith(t.unaryExpression("void",t.numericLiteral(0)))}}},V="#__DISPOSE__",N="#__DISPOSED__FUNCTION__",S=Symbol("__DISPOSE__");function I(e){return!!B(e?.leadingComments)?.value.includes(V)}function D(e){return!e||e[S]||((t.isLiteral(e)||M(e))&&(e[S]=!0),(t.isObjectExpression(e)||t.isArrayExpression(e))&&(I(e)||(e=t.addComment(e,"leading",V)),e[S]=!0)),e}function $(e){return e?e[S]?!0:!I(e)||!(t.isObjectExpression(e)||t.isArrayExpression(e)||t.isLiteral(e)||t.isFalsyNode(e))?!1:(e[S]=!0,!0):!1}function Q(e){return e?.isFunction()?e.node[S]?!0:I(e.node)||e.parentPath?.isExportDeclaration()&&I(e.parent)||e.parentPath?.parentPath?.isVariableDeclaration()&&I(e.parentPath.parent)?(e.node[S]=!0,!0):!1:!1}function X(e,s){for(;(e.parentPath.isMemberExpression()||e.parentPath.isOptionalMemberExpression())&&e.parent.object===e.node;){let l=e.parentPath.get("property"),n;if(e.parentPath.node.computed?n=l.evaluate().value:l.isIdentifier()&&(n=l.node.name),n==null)break;const _=w(s,n,e.parentPath.node.optional);if(!_)break;s=_,e=e.parentPath}return{path:e,replaceWith:s}}const q={visitor:{VariableDeclarator(e){if(!$(e.node.init))return;const{scope:s}=e,l=[];let n=!1;_(e.get("id"),e.get("init").node,!0);function _(d,m,O){if(d.isIdentifier()){const b=s.getBinding(d.node.name);if(!b.constant){O?n=!0:l.push(t.variableDeclarator(d.node,m));return}b.referenced&&b.referencePaths.forEach(f=>{const E=X(f,m);[f]=E.path.replaceWith(D(t.cloneDeepWithoutLoc(E.replaceWith))),f.parentPath.isSpreadElement()&&(f.isArrayExpression()&&f.parentPath.parentPath.isArrayExpression()&&f.parentPath.replaceWithMultiple(f.node.elements),f.isObjectExpression()&&f.parentPath.parentPath.isObjectExpression()&&f.parentPath.replaceWithMultiple(f.node.properties))});return}if(d.isObjectPattern()){if(!t.isArrayExpression(m)&&!t.isObjectExpression(m)){if(O)throw new Error("Cannot use destructing from a non-object");l.push(t.variableDeclarator(d.node,m));return}const b=new Set;d.get("properties").forEach(f=>{if(f.isObjectProperty()){const E=f.get("key");let g=f.get("value"),v;g.isAssignmentPattern()&&(v=g.get("right"),g=g.get("left"));let C=f.node.computed?E.evaluate().value:A(E.node);if(C===void 0)throw new Error("no fromPropertyId");let j=D(w(m,C));if(v&&(j=M(j)?v:j),!j)throw new Error("failed to destruct field: "+C);_(g,j),b.add(String(C))}if(f.isRestElement()){const E=[];if(t.isObjectExpression(m))m.properties.forEach(g=>{(t.isSpreadElement(g)||!b.has(A(g.key)))&&E.push(g)});else if(t.isArrayExpression(m))for(let g=0;g<m.elements.length;g++){const v=m.elements[g];if(v){if(t.isSpreadElement(v))throw new Error("not supported: destructing rest from array");E.push(t.objectProperty(t.stringLiteral(String(g)),v))}}_(f.get("argument"),D(t.objectExpression(E)))}});return}if(d.isArrayPattern()){if(!t.isArrayExpression(m)){if(O)throw new Error("Must be an array expression");l.push(t.variableDeclarator(d.node,m));return}let b=-1,f=d.get("elements");for(let E=0;E<f.length;E++){const g=D(m.elements[E])||t.unaryExpression("void",t.numericLiteral(0));t.isSpreadElement(g)&&(b=E);const v=f[E];if(v.node){if(v.isRestElement()&&(b===-1||b===E)){_(v.get("argument"),D(t.arrayExpression(m.elements.slice(E))));break}if(b!==-1)throw new Error('Currently not supported: taking a element from "restElement"');if((v.isIdentifier()||v.isObjectPattern()||v.isArrayPattern())&&_(v,g),v.isAssignmentPattern()){const C=M(g)?v.node.right:g;_(v.get("left"),C)}}}}}n||(l.length?e.replaceWithMultiple(l):e.remove(),s.crawl(),s.path?.visit())},"ObjectExpression|ArrayExpression"(e){if(!$(e.node))return;const s=X(e,e.node);s.path!==e&&([e]=s.path.replaceWith(D(s.replaceWith)),e.findParent(l=>l.node?.leadingComments?.some(n=>n.value.includes(N)))?.visit())}}},ee={visitor:{CallExpression(e){const s=e.get("arguments")[0];if(e.node.arguments.length!==1||!(s.isObjectExpression()||s.isArrayExpression())||!t.matchesPattern(e.node.callee,["Object","keys"])||e.scope.getBinding("Object"))return;const l=J(s.node);if(l){let n=D(t.arrayExpression(Array.from(l,_=>t.stringLiteral(_))));e.replaceWith(n);return}if(s.isObjectExpression()){s.get("properties").forEach(n=>{const _=A(n.node.key);_&&n.replaceWith(t.objectProperty(t.stringLiteral(_),t.numericLiteral(1)))});return}s.isArrayExpression()&&s.get("elements").forEach(n=>{n.node&&!n.isSpreadElement()&&n.replaceWith(t.numericLiteral(1))})}}},te={visitor:{CallExpression(e){const s=e.get("callee");if(!s.isIdentifier())return;let n=e.scope.getBinding(s.node.name)?.path;if(n?.isVariableDeclarator()&&(n=n.get("init")),!n?.isFunction()||!Q(n))return;const _=e.node.arguments;let d=t.cloneNode(n.node,!0);if(d.params.length>0){t.isExpression(d.body)&&(d.body=t.blockStatement([t.returnStatement(d.body)]));let O=[];if(_.some(b=>b.type==="SpreadElement"))O.push(t.variableDeclarator(t.arrayPattern(d.params),t.arrayExpression(_)));else for(let b=0;b<d.params.length;b++){const f=d.params[b];if(t.isRestElement(f)){O.push(t.variableDeclarator(f.argument,t.arrayExpression(_)));break}const E=_.shift()||t.unaryExpression("void",t.numericLiteral(0));t.isAssignmentPattern(f)?O.push(t.variableDeclarator(f.left,M(E)?f.right:E)):O.push(t.variableDeclarator(f,E))}d.params=[],d.body.body.unshift(t.variableDeclaration("var",O))}t.isFunctionDeclaration(d)&&(d=t.functionExpression(d.id,[],d.body,d.generator,d.async));let m=t.callExpression(d,[]);m=t.addComment(m,"leading",N),[e]=e.replaceWith(m)}}},re={visitor:{CallExpression(e){const s=e.get("callee");if(!s.isFunction()||s.node.async||s.node.generator||s.node.params.length||e.node.arguments.length)return;let l=s.get("body");if(l.isBlockStatement()){let n,_=l.get("body");if(_.length!==0)if(_.length===1){const d=_[0];if(d.isReturnStatement())n=d.node.argument;else if(d.isExpressionStatement())n=t.unaryExpression("void",d.node.expression);else return}else return;e.replaceWith(n||t.unaryExpression("void",t.numericLiteral(0)))}else e.replaceWith(l.node)}}};function ne(e){const s=[[k],[G],[z],[q],[te],[ee],[re]];return console.clear(),(0,Y.transformSync)(e,{plugins:s}).code}const Z=e=>((0,a.dD)("data-v-b318a4a6"),e=e(),(0,a.Cn)(),e),se={style:{display:"flex"}},ie={class:"my-column"},oe=Z(()=>(0,a._)("h2",null,"Input",-1)),ae={class:"my-column"},le=Z(()=>(0,a._)("h2",null,"Output",-1)),_e=(0,a.aZ)({__name:"App",setup(e){let s=`
const secretSchema = /* #__DISPOSE__ */ {
  fields: {
    name: { type: "string" },
    age: { type: "number" },
    tel: { type: "string" },
  },
};

const tokens = /* #__DISPOSE__ */ ["token1", "token2", "token3", "token4", "token5", ...sys.tokens];

// ---------------------------------
// MAIN FUNCTION

function test() {
  const [, secondToken, , ...restTokens] = tokens;
  printToken(secondToken);
  printMoreTokens(restTokens);

  // ---------------------------------

  const source1 = /* #__PURE__ */ createRPCClient();
  const source1$schema = secretSchema;

  const { name: $nameField, ...restFields } = source1$schema.fields;
  printRestFieldIds(Object.keys(restFields));
  printRestFields(restFields);

  // ---------------------------------

  log('[name] type: ' + $nameField.type);
  log('[name] title: ' + ($nameField.title || "name"));
  log('[age]:', source1$schema.fields.age);

  // ----------------------------------

  return renderInput($nameField.type, { title: ($nameField.title || "name") })
}


/*#__DISPOSE__*/
function renderInput(type, props = {}) {
  if (type === 'string') return h('textInput', props);
  if (type === 'number') return h('numberInput', props);
}
`,l=(0,c.iH)(localStorage.getItem("lastCode")||s),n=(0,a.Fl)(()=>ne(l.value)||"");(0,a.YP)(l,()=>{localStorage.setItem("lastCode",l.value)});const _=()=>{localStorage.removeItem("lastCode"),l.value=s};return(d,m)=>((0,a.wg)(),(0,a.iD)("div",se,[(0,a._)("div",ie,[oe,(0,a.Wm)(T,{code:(0,c.SU)(l),"onUpdate:code":m[0]||(m[0]=O=>(0,c.dq)(l)?l.value=O:l=O)},null,8,["code"]),(0,a._)("button",{onClick:_},"reset")]),(0,a._)("div",ae,[le,(0,a.Wm)(T,{code:(0,c.SU)(n)},null,8,["code"])])]))}});var ce=r(9197),de=r(2231);const ue=(0,de.Z)(_e,[["__scopeId","data-v-b318a4a6"]]);var pe=r(1834);const H=document.createElement("div");document.body.appendChild(H),(0,o.ri)(ue).mount(H)},1834:(i,u,r)=>{var o=r(1352);o.__esModule&&(o=o.default),typeof o=="string"&&(o=[[i.id,o,""]]),o.locals&&(i.exports=o.locals);var a=r(1813).Z,c=a("f1a91dde",o,!1,{})},9197:(i,u,r)=>{var o=r(3241);o.__esModule&&(o=o.default),typeof o=="string"&&(o=[[i.id,o,""]]),o.locals&&(i.exports=o.locals);var a=r(1813).Z,c=a("f30e2240",o,!1,{})},2125:(i,u,r)=>{var o=r(1213);o.__esModule&&(o=o.default),typeof o=="string"&&(o=[[i.id,o,""]]),o.locals&&(i.exports=o.locals);var a=r(1813).Z,c=a("ec7b6e0a",o,!1,{})},4614:()=>{},4994:()=>{},9580:()=>{},6054:()=>{},6832:()=>{},4635:()=>{}},W={};function p(i){var u=W[i];if(u!==void 0)return u.exports;var r=W[i]={id:i,loaded:!1,exports:{}};return R[i].call(r.exports,r,r.exports,p),r.loaded=!0,r.exports}p.m=R,(()=>{var i=[];p.O=(u,r,o,a)=>{if(r){a=a||0;for(var c=i.length;c>0&&i[c-1][2]>a;c--)i[c]=i[c-1];i[c]=[r,o,a];return}for(var h=1/0,c=0;c<i.length;c++){for(var[r,o,a]=i[c],P=!0,y=0;y<r.length;y++)(a&!1||h>=a)&&Object.keys(p.O).every(k=>p.O[k](r[y]))?r.splice(y--,1):(P=!1,a<h&&(h=a));if(P){i.splice(c--,1);var x=o();x!==void 0&&(u=x)}}return u}})(),p.n=i=>{var u=i&&i.__esModule?()=>i.default:()=>i;return p.d(u,{a:u}),u},p.d=(i,u)=>{for(var r in u)p.o(u,r)&&!p.o(i,r)&&Object.defineProperty(i,r,{enumerable:!0,get:u[r]})},p.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),p.o=(i,u)=>Object.prototype.hasOwnProperty.call(i,u),p.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},p.nmd=i=>(i.paths=[],i.children||(i.children=[]),i),(()=>{var i={179:0};p.O.j=o=>i[o]===0;var u=(o,a)=>{var[c,h,P]=a,y,x,L=0;if(c.some(T=>i[T]!==0)){for(y in h)p.o(h,y)&&(p.m[y]=h[y]);if(P)var U=P(p)}for(o&&o(a);L<c.length;L++)x=c[L],p.o(i,x)&&i[x]&&i[x][0](),i[x]=0;return p.O(U)},r=self.webpackChunkbabel_disposable=self.webpackChunkbabel_disposable||[];r.forEach(u.bind(null,0)),r.push=u.bind(null,r.push.bind(r))})();var F=p.O(void 0,[690],()=>p(3094));F=p.O(F)})();})();
